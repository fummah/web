{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _EyeInvisibleOutlined = _interopRequireDefault(require(\"@ant-design/icons/EyeInvisibleOutlined\"));\nvar _EyeOutlined = _interopRequireDefault(require(\"@ant-design/icons/EyeOutlined\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _omit = _interopRequireDefault(require(\"rc-util/lib/omit\"));\nvar _ref2 = require(\"rc-util/lib/ref\");\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar React = _react;\nvar _configProvider = require(\"../config-provider\");\nvar _useRemovePasswordTimeout = _interopRequireDefault(require(\"./hooks/useRemovePasswordTimeout\"));\nvar _Input = _interopRequireDefault(require(\"./Input\"));\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar defaultIconRender = function defaultIconRender(visible) {\n  return visible ? /*#__PURE__*/React.createElement(_EyeOutlined[\"default\"], null) : /*#__PURE__*/React.createElement(_EyeInvisibleOutlined[\"default\"], null);\n};\nvar ActionMap = {\n  click: 'onClick',\n  hover: 'onMouseOver'\n};\nvar Password = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _props$visibilityTogg = props.visibilityToggle,\n    visibilityToggle = _props$visibilityTogg === void 0 ? true : _props$visibilityTogg;\n  var visibilityControlled = (0, _typeof2[\"default\"])(visibilityToggle) === 'object' && visibilityToggle.visible !== undefined;\n  var _useState = (0, _react.useState)(function () {\n      return visibilityControlled ? visibilityToggle.visible : false;\n    }),\n    _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var inputRef = (0, _react.useRef)(null);\n  React.useEffect(function () {\n    if (visibilityControlled) {\n      setVisible(visibilityToggle.visible);\n    }\n  }, [visibilityControlled, visibilityToggle]);\n  // Remove Password value\n  var removePasswordTimeout = (0, _useRemovePasswordTimeout[\"default\"])(inputRef);\n  var onVisibleChange = function onVisibleChange() {\n    var disabled = props.disabled;\n    if (disabled) {\n      return;\n    }\n    if (visible) {\n      removePasswordTimeout();\n    }\n    setVisible(function (prevState) {\n      var _a;\n      var newState = !prevState;\n      if ((0, _typeof2[\"default\"])(visibilityToggle) === 'object') {\n        (_a = visibilityToggle.onVisibleChange) === null || _a === void 0 ? void 0 : _a.call(visibilityToggle, newState);\n      }\n      return newState;\n    });\n  };\n  var getIcon = function getIcon(prefixCls) {\n    var _props$action = props.action,\n      action = _props$action === void 0 ? 'click' : _props$action,\n      _props$iconRender = props.iconRender,\n      iconRender = _props$iconRender === void 0 ? defaultIconRender : _props$iconRender;\n    var iconTrigger = ActionMap[action] || '';\n    var icon = iconRender(visible);\n    var iconProps = (0, _defineProperty2[\"default\"])((0, _defineProperty2[\"default\"])((0, _defineProperty2[\"default\"])((0, _defineProperty2[\"default\"])((0, _defineProperty2[\"default\"])({}, iconTrigger, onVisibleChange), \"className\", \"\".concat(prefixCls, \"-icon\")), \"key\", 'passwordIcon'), \"onMouseDown\", function onMouseDown(e) {\n      // Prevent focused state lost\n      // https://github.com/ant-design/ant-design/issues/15173\n      e.preventDefault();\n    }), \"onMouseUp\", function onMouseUp(e) {\n      // Prevent caret position change\n      // https://github.com/ant-design/ant-design/issues/23524\n      e.preventDefault();\n    });\n    return /*#__PURE__*/React.cloneElement( /*#__PURE__*/React.isValidElement(icon) ? icon : /*#__PURE__*/React.createElement(\"span\", null, icon), iconProps);\n  };\n  var renderPassword = function renderPassword(_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n    var className = props.className,\n      customizePrefixCls = props.prefixCls,\n      customizeInputPrefixCls = props.inputPrefixCls,\n      size = props.size,\n      restProps = __rest(props, [\"className\", \"prefixCls\", \"inputPrefixCls\", \"size\"]);\n    var inputPrefixCls = getPrefixCls('input', customizeInputPrefixCls);\n    var prefixCls = getPrefixCls('input-password', customizePrefixCls);\n    var suffixIcon = visibilityToggle && getIcon(prefixCls);\n    var inputClassName = (0, _classnames[\"default\"])(prefixCls, className, (0, _defineProperty2[\"default\"])({}, \"\".concat(prefixCls, \"-\").concat(size), !!size));\n    var omittedProps = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, (0, _omit[\"default\"])(restProps, ['suffix', 'iconRender', 'visibilityToggle'])), {\n      type: visible ? 'text' : 'password',\n      className: inputClassName,\n      prefixCls: inputPrefixCls,\n      suffix: suffixIcon\n    });\n    if (size) {\n      omittedProps.size = size;\n    }\n    return /*#__PURE__*/React.createElement(_Input[\"default\"], (0, _extends2[\"default\"])({\n      ref: (0, _ref2.composeRef)(ref, inputRef)\n    }, omittedProps));\n  };\n  return /*#__PURE__*/React.createElement(_configProvider.ConfigConsumer, null, renderPassword);\n});\nif (process.env.NODE_ENV !== 'production') {\n  Password.displayName = 'Password';\n}\nvar _default = exports[\"default\"] = Password;","map":null,"metadata":{},"sourceType":"script"}