{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\web\\\\aid\\\\src\\\\routes\\\\components\\\\dataEntry\\\\Input\\\\FormatTooltipInput.js\";\nimport React, { Component } from \"react\";\nimport { Card, Input, Tooltip } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction formatNumber(value) {\n  value += '';\n  const list = value.split('.');\n  const prefix = list[0].charAt(0) === '-' ? '-' : '';\n  let num = prefix ? list[0].slice(1) : list[0];\n  let result = '';\n  while (num.length > 3) {\n    result = `,${num.slice(-3)}${result}`;\n    num = num.slice(0, num.length - 3);\n  }\n  if (num) {\n    result = num + result;\n  }\n  return `${prefix}${result}${list[1] ? `.${list[1]}` : ''}`;\n}\nclass NumericInput extends Component {\n  constructor(...args) {\n    super(...args);\n    this.onChange = e => {\n      const {\n        value\n      } = e.target;\n      const reg = /^-?(0|[1-9][0-9]*)(\\.[0-9]*)?$/;\n      if (!isNaN(value) && reg.test(value) || value === '' || value === '-') {\n        this.props.onChange(value);\n      }\n    };\n    // '.' at the end or only '-' in the input box.\n    this.onBlur = () => {\n      const {\n        value,\n        onBlur,\n        onChange\n      } = this.props;\n      if (value.charAt(value.length - 1) === '.' || value === '-') {\n        onChange({\n          value: value.slice(0, -1)\n        });\n      }\n      if (onBlur) {\n        onBlur();\n      }\n    };\n  }\n  render() {\n    const {\n      value\n    } = this.props;\n    const title = value ? /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"numeric-input-title\",\n      children: value !== '-' ? formatNumber(value) : '-'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this) : 'Input a number';\n    return /*#__PURE__*/_jsxDEV(Tooltip, {\n      trigger: ['focus'],\n      title: title,\n      placement: \"topLeft\",\n      overlayClassName: \"numeric-input\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        ...this.props,\n        onChange: this.onChange,\n        onBlur: this.onBlur,\n        placeholder: \"Input a number\",\n        maxLength: 25\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass NumericInputDemo extends Component {\n  constructor(props) {\n    super(props);\n    this.onChange = value => {\n      this.setState({\n        value\n      });\n    };\n    this.state = {\n      value: ''\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: \"gx-card\",\n      title: \"Numeric Input Demo\",\n      children: /*#__PURE__*/_jsxDEV(NumericInput, {\n        style: {\n          width: 120\n        },\n        value: this.state.value,\n        onChange: this.onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 12\n    }, this);\n  }\n}\nexport default NumericInputDemo;","map":{"version":3,"names":["React","Component","Card","Input","Tooltip","jsxDEV","_jsxDEV","formatNumber","value","list","split","prefix","charAt","num","slice","result","length","NumericInput","constructor","args","onChange","e","target","reg","isNaN","test","props","onBlur","render","title","className","children","fileName","_jsxFileName","lineNumber","columnNumber","trigger","placement","overlayClassName","placeholder","maxLength","NumericInputDemo","setState","state","style","width"],"sources":["C:/wamp64/www/web/aid/src/routes/components/dataEntry/Input/FormatTooltipInput.js"],"sourcesContent":["import React, {Component} from \"react\";\r\nimport {Card, Input, Tooltip} from \"antd\";\r\n\r\nfunction formatNumber(value) {\r\n  value += '';\r\n  const list = value.split('.');\r\n  const prefix = list[0].charAt(0) === '-' ? '-' : '';\r\n  let num = prefix ? list[0].slice(1) : list[0];\r\n  let result = '';\r\n  while (num.length > 3) {\r\n    result = `,${num.slice(-3)}${result}`;\r\n    num = num.slice(0, num.length - 3);\r\n  }\r\n  if (num) {\r\n    result = num + result;\r\n  }\r\n  return `${prefix}${result}${list[1] ? `.${list[1]}` : ''}`;\r\n}\r\n\r\nclass NumericInput extends Component {\r\n  onChange = (e) => {\r\n    const {value} = e.target;\r\n    const reg = /^-?(0|[1-9][0-9]*)(\\.[0-9]*)?$/;\r\n    if ((!isNaN(value) && reg.test(value)) || value === '' || value === '-') {\r\n      this.props.onChange(value);\r\n    }\r\n  }\r\n  // '.' at the end or only '-' in the input box.\r\n  onBlur = () => {\r\n    const {value, onBlur, onChange} = this.props;\r\n    if (value.charAt(value.length - 1) === '.' || value === '-') {\r\n      onChange({value: value.slice(0, -1)});\r\n    }\r\n    if (onBlur) {\r\n      onBlur();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {value} = this.props;\r\n    const title = value ? (\r\n      <span className=\"numeric-input-title\">\r\n        {value !== '-' ? formatNumber(value) : '-'}\r\n      </span>\r\n    ) : 'Input a number';\r\n    return (\r\n      <Tooltip\r\n        trigger={['focus']}\r\n        title={title}\r\n        placement=\"topLeft\"\r\n        overlayClassName=\"numeric-input\"\r\n      >\r\n        <Input\r\n          {...this.props}\r\n          onChange={this.onChange}\r\n          onBlur={this.onBlur}\r\n          placeholder=\"Input a number\"\r\n          maxLength={25}\r\n        />\r\n      </Tooltip>\r\n    );\r\n  }\r\n}\r\n\r\nclass NumericInputDemo extends Component {\r\n  onChange = (value) => {\r\n    this.setState({value});\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {value: ''};\r\n  }\r\n\r\n  render() {\r\n    return <Card className=\"gx-card\" title=\"Numeric Input Demo\">\r\n      <NumericInput style={{width: 120}} value={this.state.value} onChange={this.onChange}/>\r\n    </Card>;\r\n  }\r\n}\r\n\r\n\r\nexport default NumericInputDemo;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}