{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.DescriptionsContext = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _toArray = _interopRequireDefault(require(\"rc-util/lib/Children/toArray\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _configProvider = require(\"../config-provider\");\nvar _reactNode = require(\"../_util/reactNode\");\nvar _responsiveObserve = _interopRequireWildcard(require(\"../_util/responsiveObserve\"));\nvar _warning = _interopRequireDefault(require(\"../_util/warning\"));\nvar _Item = _interopRequireDefault(require(\"./Item\"));\nvar _Row = _interopRequireDefault(require(\"./Row\"));\n/* eslint-disable react/no-array-index-key */\n\nvar DescriptionsContext = exports.DescriptionsContext = /*#__PURE__*/React.createContext({});\nvar DEFAULT_COLUMN_MAP = {\n  xxl: 3,\n  xl: 3,\n  lg: 3,\n  md: 3,\n  sm: 2,\n  xs: 1\n};\nfunction getColumn(column, screens) {\n  if (typeof column === 'number') {\n    return column;\n  }\n  if ((0, _typeof2[\"default\"])(column) === 'object') {\n    for (var i = 0; i < _responsiveObserve.responsiveArray.length; i++) {\n      var breakpoint = _responsiveObserve.responsiveArray[i];\n      if (screens[breakpoint] && column[breakpoint] !== undefined) {\n        return column[breakpoint] || DEFAULT_COLUMN_MAP[breakpoint];\n      }\n    }\n  }\n  return 3;\n}\nfunction getFilledItem(node, span, rowRestCol) {\n  var clone = node;\n  if (span === undefined || span > rowRestCol) {\n    clone = (0, _reactNode.cloneElement)(node, {\n      span: rowRestCol\n    });\n    process.env.NODE_ENV !== \"production\" ? (0, _warning[\"default\"])(span === undefined, 'Descriptions', 'Sum of column `span` in a line not match `column` of Descriptions.') : void 0;\n  }\n  return clone;\n}\nfunction getRows(children, column) {\n  var childNodes = (0, _toArray[\"default\"])(children).filter(function (n) {\n    return n;\n  });\n  var rows = [];\n  var tmpRow = [];\n  var rowRestCol = column;\n  childNodes.forEach(function (node, index) {\n    var _a;\n    var span = (_a = node.props) === null || _a === void 0 ? void 0 : _a.span;\n    var mergedSpan = span || 1;\n    // Additional handle last one\n    if (index === childNodes.length - 1) {\n      tmpRow.push(getFilledItem(node, span, rowRestCol));\n      rows.push(tmpRow);\n      return;\n    }\n    if (mergedSpan < rowRestCol) {\n      rowRestCol -= mergedSpan;\n      tmpRow.push(node);\n    } else {\n      tmpRow.push(getFilledItem(node, mergedSpan, rowRestCol));\n      rows.push(tmpRow);\n      rowRestCol = column;\n      tmpRow = [];\n    }\n  });\n  return rows;\n}\nfunction Descriptions(_ref) {\n  var customizePrefixCls = _ref.prefixCls,\n    title = _ref.title,\n    extra = _ref.extra,\n    _ref$column = _ref.column,\n    column = _ref$column === void 0 ? DEFAULT_COLUMN_MAP : _ref$column,\n    _ref$colon = _ref.colon,\n    colon = _ref$colon === void 0 ? true : _ref$colon,\n    bordered = _ref.bordered,\n    layout = _ref.layout,\n    children = _ref.children,\n    className = _ref.className,\n    style = _ref.style,\n    size = _ref.size,\n    labelStyle = _ref.labelStyle,\n    contentStyle = _ref.contentStyle;\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls,\n    direction = _React$useContext.direction;\n  var prefixCls = getPrefixCls('descriptions', customizePrefixCls);\n  var _React$useState = React.useState({}),\n    _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n    screens = _React$useState2[0],\n    setScreens = _React$useState2[1];\n  var mergedColumn = getColumn(column, screens);\n  // Responsive\n  React.useEffect(function () {\n    var token = _responsiveObserve[\"default\"].subscribe(function (newScreens) {\n      if ((0, _typeof2[\"default\"])(column) !== 'object') {\n        return;\n      }\n      setScreens(newScreens);\n    });\n    return function () {\n      _responsiveObserve[\"default\"].unsubscribe(token);\n    };\n  }, []);\n  // Children\n  var rows = getRows(children, mergedColumn);\n  var contextValue = React.useMemo(function () {\n    return {\n      labelStyle: labelStyle,\n      contentStyle: contentStyle\n    };\n  }, [labelStyle, contentStyle]);\n  return /*#__PURE__*/React.createElement(DescriptionsContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: (0, _classnames[\"default\"])(prefixCls, (0, _defineProperty2[\"default\"])((0, _defineProperty2[\"default\"])((0, _defineProperty2[\"default\"])({}, \"\".concat(prefixCls, \"-\").concat(size), size && size !== 'default'), \"\".concat(prefixCls, \"-bordered\"), !!bordered), \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), className),\n    style: style\n  }, (title || extra) && ( /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-header\")\n  }, title && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-title\")\n  }, title), extra && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-extra\")\n  }, extra))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-view\")\n  }, /*#__PURE__*/React.createElement(\"table\", null, /*#__PURE__*/React.createElement(\"tbody\", null, rows.map(function (row, index) {\n    return /*#__PURE__*/React.createElement(_Row[\"default\"], {\n      key: index,\n      index: index,\n      colon: colon,\n      prefixCls: prefixCls,\n      vertical: layout === 'vertical',\n      bordered: bordered,\n      row: row\n    });\n  }))))));\n}\nDescriptions.Item = _Item[\"default\"];\nvar _default = exports[\"default\"] = Descriptions;","map":null,"metadata":{},"sourceType":"script"}